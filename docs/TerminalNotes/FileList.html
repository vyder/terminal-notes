<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: TerminalNotes::FileList
  
    &mdash; Documentation by YARD 0.9.25
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "TerminalNotes::FileList";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../TerminalNotes.html" title="TerminalNotes (module)">TerminalNotes</a></span></span>
     &raquo; 
    <span class="title">FileList</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: TerminalNotes::FileList
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Widget.html" title="TerminalNotes::Widget (class)">Widget</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Widget.html" title="TerminalNotes::Widget (class)">Widget</a></span></li>
          
            <li class="next">TerminalNotes::FileList</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/terminal-notes/file_list.rb</dd>
  </dl>
  
</div>


  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="WIDTH-constant" class="">WIDTH =
          
        </dt>
        <dd><pre class="code"><span class='int'>1</span></pre></dd>
      
        <dt id="EXTENSIONS-constant" class="">EXTENSIONS =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.md</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.txt</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="DEFAULT_EDITOR-constant" class="">DEFAULT_EDITOR =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="CONTENT_PADDING-constant" class="">CONTENT_PADDING =
          
        </dt>
        <dd><pre class="code"><span class='int'>2</span></pre></dd>
      
        <dt id="FILE_INDICATOR-constant" class="">FILE_INDICATOR =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚ùØ </span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="INTER_COL_GAP-constant" class="">INTER_COL_GAP =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="MATCHERS-constant" class="">MATCHERS =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='symbol'>:regex</span><span class='comma'>,</span> <span class='symbol'>:fuzzy</span><span class='rbracket'>]</span></pre></dd>
      
    </dl>
  



  
  
  <h3 class="inherited">Constants inherited
     from <span class='object_link'><a href="Widget.html" title="TerminalNotes::Widget (class)">Widget</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Widget.html#TITLE_PADDING-constant" title="TerminalNotes::Widget::TITLE_PADDING (constant)">Widget::TITLE_PADDING</a></span></p>




  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Widget.html" title="TerminalNotes::Widget (class)">Widget</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Widget.html#height-instance_method" title="TerminalNotes::Widget#height (method)">#height</a></span>, <span class='object_link'><a href="Widget.html#width-instance_method" title="TerminalNotes::Widget#width (method)">#width</a></span>, <span class='object_link'><a href="Widget.html#window-instance_method" title="TerminalNotes::Widget#window (method)">#window</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#draw-instance_method" title="#draw (instance method)">#<strong>draw</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filter-instance_method" title="#filter (instance method)">#<strong>filter</strong>(pattern)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#focus-instance_method" title="#focus (instance method)">#<strong>focus</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>TODO.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(parent:, height:, y:, directory:, extensions: EXTENSIONS)  &#x21d2; FileList </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of FileList.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#notify_file_opened-instance_method" title="#notify_file_opened (instance method)">#<strong>notify_file_opened</strong>(file)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_file_opened-instance_method" title="#on_file_opened (instance method)">#<strong>on_file_opened</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_key-instance_method" title="#on_key (instance method)">#<strong>on_key</strong>(key)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#toggle_matcher-instance_method" title="#toggle_matcher (instance method)">#<strong>toggle_matcher</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unfocus-instance_method" title="#unfocus (instance method)">#<strong>unfocus</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Widget.html" title="TerminalNotes::Widget (class)">Widget</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Widget.html#redraw-instance_method" title="TerminalNotes::Widget#redraw (method)">#redraw</a></span>, <span class='object_link'><a href="Widget.html#resize-instance_method" title="TerminalNotes::Widget#resize (method)">#resize</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(parent:, height:, y:, directory:, extensions: EXTENSIONS)  &#x21d2; <tt><span class='object_link'><a href="" title="TerminalNotes::FileList (class)">FileList</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of FileList.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/terminal-notes/file_list.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>parent:</span><span class='comma'>,</span> <span class='label'>height:</span><span class='comma'>,</span> <span class='label'>y:</span><span class='comma'>,</span> <span class='label'>directory:</span><span class='comma'>,</span>
               <span class='label'>extensions:</span> <span class='const'><span class='object_link'><a href="#EXTENSIONS-constant" title="TerminalNotes::FileList::EXTENSIONS (constant)">EXTENSIONS</a></span></span><span class='rparen'>)</span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='label'>parent:</span> <span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span> <span class='label'>title:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Files</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
          <span class='label'>width:</span> <span class='const'><span class='object_link'><a href="#WIDTH-constant" title="TerminalNotes::FileList::WIDTH (constant)">WIDTH</a></span></span><span class='comma'>,</span> <span class='label'>height:</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='id identifier rubyid_y'>y</span><span class='rparen'>)</span>

    <span class='ivar'>@content_start</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Cursor.html" title="TerminalNotes::Cursor (class)">Cursor</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Cursor.html#initialize-instance_method" title="TerminalNotes::Cursor#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>x:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='const'><span class='object_link'><a href="#CONTENT_PADDING-constant" title="TerminalNotes::FileList::CONTENT_PADDING (constant)">CONTENT_PADDING</a></span></span><span class='rparen'>)</span>

    <span class='comment'># Find all the files that match specified extensions
</span>    <span class='ivar'>@all_files</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_directory'>directory</span><span class='embexpr_end'>}</span><span class='tstring_content'>/*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='ivar'>@all_files</span> <span class='op'>=</span> <span class='ivar'>@all_files</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
        <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="#EXTENSIONS-constant" title="TerminalNotes::FileList::EXTENSIONS (constant)">EXTENSIONS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)$</span><span class='regexp_end'>/</span></span>
    <span class='kw'>end</span>
    <span class='ivar'>@all_files</span> <span class='op'>=</span> <span class='ivar'>@all_files</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
        <span class='lbrace'>{</span>
            <span class='label'>name:</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_directory'>directory</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='label'>path:</span> <span class='id identifier rubyid_f'>f</span><span class='comma'>,</span>
            <span class='label'>date:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Jun 24, 2012</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
            <span class='label'>time:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>05:32pm</span><span class='tstring_end'>&quot;</span></span>
        <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='ivar'>@filtered_files</span> <span class='op'>=</span> <span class='ivar'>@all_files</span>

    <span class='ivar'>@fuzzy_matcher</span> <span class='op'>=</span> <span class='const'>FuzzyMatch</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@all_files</span><span class='comma'>,</span> <span class='label'>read:</span> <span class='symbol'>:name</span><span class='rparen'>)</span>
    <span class='ivar'>@curr_matcher</span>  <span class='op'>=</span> <span class='int'>0</span>

    <span class='ivar'>@current_line</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='ivar'>@has_focus</span>    <span class='op'>=</span> <span class='kw'>false</span>

    <span class='ivar'>@on_file_opened_delegates</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='id identifier rubyid_draw'>draw</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="draw-instance_method">
  
    #<strong>draw</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/terminal-notes/file_list.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_draw'>draw</span>
    <span class='kw'>super</span> <span class='kw'>do</span>
        <span class='comment'># Calculate where to start drawing the table
</span>        <span class='comment'>#
</span>        <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>=</span> <span class='int'>0</span>

        <span class='comment'># Calculate NAME col width
</span>        <span class='id identifier rubyid_longest_file'>longest_file</span> <span class='op'>=</span> <span class='ivar'>@all_files</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='rbrace'>}</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_longest_file'>longest_file</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='id identifier rubyid_name_col_width'>name_col_width</span> <span class='op'>=</span> <span class='int'>10</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_name_col_width'>name_col_width</span> <span class='op'>=</span> <span class='int'>2</span> <span class='op'>+</span> <span class='id identifier rubyid_longest_file'>longest_file</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
        <span class='kw'>end</span>

        <span class='comment'># Calculate DATE col width, e.g. Jun 24, 2012
</span>        <span class='id identifier rubyid_date_col_width'>date_col_width</span> <span class='op'>=</span> <span class='int'>12</span>

        <span class='comment'># Calculate TIME col width, e.g. 05:24pm
</span>        <span class='id identifier rubyid_time_col_width'>time_col_width</span> <span class='op'>=</span> <span class='int'>7</span>

        <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>+=</span> <span class='id identifier rubyid_name_col_width'>name_col_width</span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="#INTER_COL_GAP-constant" title="TerminalNotes::FileList::INTER_COL_GAP (constant)">INTER_COL_GAP</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
        <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>+=</span> <span class='id identifier rubyid_date_col_width'>date_col_width</span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="#INTER_COL_GAP-constant" title="TerminalNotes::FileList::INTER_COL_GAP (constant)">INTER_COL_GAP</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
        <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>+=</span> <span class='id identifier rubyid_time_col_width'>time_col_width</span>

        <span class='comment'># Move cursor to center the table
</span>        <span class='id identifier rubyid_cursor'>cursor</span> <span class='op'>=</span> <span class='ivar'>@content_start</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
        <span class='id identifier rubyid_cursor'>cursor</span><span class='period'>.</span><span class='id identifier rubyid_moveTo'>moveTo</span><span class='lparen'>(</span><span class='label'>x:</span> <span class='lparen'>(</span><span class='ivar'>@parent</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='lbracket'>[</span><span class='symbol'>:columns</span><span class='rbracket'>]</span> <span class='op'>-</span> <span class='id identifier rubyid_table_width'>table_width</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>2</span><span class='rparen'>)</span>
        <span class='ivar'>@window</span><span class='period'>.</span><span class='id identifier rubyid_move_cursor'>move_cursor</span><span class='lparen'>(</span><span class='id identifier rubyid_cursor'>cursor</span><span class='rparen'>)</span>

        <span class='comment'># Start actually drawing
</span>        <span class='comment'>#
</span>
        <span class='comment'># Draw header
</span>        <span class='id identifier rubyid_line'>line</span>  <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NAME</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='id identifier rubyid_name_col_width'>name_col_width</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="#INTER_COL_GAP-constant" title="TerminalNotes::FileList::INTER_COL_GAP (constant)">INTER_COL_GAP</a></span></span>
        <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DATE</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='id identifier rubyid_date_col_width'>date_col_width</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="#INTER_COL_GAP-constant" title="TerminalNotes::FileList::INTER_COL_GAP (constant)">INTER_COL_GAP</a></span></span>
        <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TIME</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='id identifier rubyid_time_col_width'>time_col_width</span><span class='rparen'>)</span>
        <span class='ivar'>@window</span><span class='period'>.</span><span class='id identifier rubyid_draw_string'>draw_string</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>

        <span class='comment'># Move cursor back to accomodate the file indicator
</span>        <span class='id identifier rubyid_cursor'>cursor</span><span class='period'>.</span><span class='id identifier rubyid_moveBy'>moveBy</span><span class='lparen'>(</span><span class='op'>-</span><span class='const'><span class='object_link'><a href="#FILE_INDICATOR-constant" title="TerminalNotes::FileList::FILE_INDICATOR (constant)">FILE_INDICATOR</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
        <span class='ivar'>@window</span><span class='period'>.</span><span class='id identifier rubyid_move_cursor'>move_cursor</span><span class='lparen'>(</span><span class='id identifier rubyid_cursor'>cursor</span><span class='rparen'>)</span>

        <span class='id identifier rubyid_no_indicator'>no_indicator</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='const'><span class='object_link'><a href="#FILE_INDICATOR-constant" title="TerminalNotes::FileList::FILE_INDICATOR (constant)">FILE_INDICATOR</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>

        <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='int'>0</span>
        <span class='ivar'>@filtered_files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
            <span class='id identifier rubyid_line'>line</span>  <span class='op'>=</span> <span class='id identifier rubyid_no_indicator'>no_indicator</span>
            <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='id identifier rubyid_file'>file</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='id identifier rubyid_name_col_width'>name_col_width</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="#INTER_COL_GAP-constant" title="TerminalNotes::FileList::INTER_COL_GAP (constant)">INTER_COL_GAP</a></span></span>
            <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='id identifier rubyid_file'>file</span><span class='lbracket'>[</span><span class='symbol'>:date</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='id identifier rubyid_date_col_width'>date_col_width</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="#INTER_COL_GAP-constant" title="TerminalNotes::FileList::INTER_COL_GAP (constant)">INTER_COL_GAP</a></span></span>
            <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='id identifier rubyid_file'>file</span><span class='lbracket'>[</span><span class='symbol'>:time</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='id identifier rubyid_time_col_width'>time_col_width</span><span class='rparen'>)</span>

            <span class='ivar'>@window</span><span class='period'>.</span><span class='id identifier rubyid_draw_string'>draw_string</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>

            <span class='comment'># Draw the arrow
</span>            <span class='kw'>if</span> <span class='ivar'>@has_focus</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_index'>index</span> <span class='op'>==</span> <span class='ivar'>@current_line</span>
                <span class='ivar'>@window</span><span class='period'>.</span><span class='id identifier rubyid_move_cursor'>move_cursor</span><span class='lparen'>(</span><span class='id identifier rubyid_cursor'>cursor</span><span class='rparen'>)</span>
                <span class='ivar'>@window</span><span class='period'>.</span><span class='id identifier rubyid_draw_string'>draw_string</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#FILE_INDICATOR-constant" title="TerminalNotes::FileList::FILE_INDICATOR (constant)">FILE_INDICATOR</a></span></span><span class='rparen'>)</span>
            <span class='kw'>end</span>

            <span class='id identifier rubyid_cursor'>cursor</span><span class='period'>.</span><span class='id identifier rubyid_moveBy'>moveBy</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
            <span class='ivar'>@window</span><span class='period'>.</span><span class='id identifier rubyid_move_cursor'>move_cursor</span><span class='lparen'>(</span><span class='id identifier rubyid_cursor'>cursor</span><span class='rparen'>)</span>

            <span class='id identifier rubyid_index'>index</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_clear_line'>clear_line</span> <span class='op'>=</span> <span class='id identifier rubyid_no_indicator'>no_indicator</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_table_width'>table_width</span>
        <span class='kw'>while</span> <span class='id identifier rubyid_index'>index</span> <span class='op'>&lt;</span> <span class='ivar'>@all_files</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
            <span class='ivar'>@window</span><span class='period'>.</span><span class='id identifier rubyid_draw_string'>draw_string</span><span class='lparen'>(</span><span class='id identifier rubyid_clear_line'>clear_line</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_cursor'>cursor</span><span class='period'>.</span><span class='id identifier rubyid_moveBy'>moveBy</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
            <span class='ivar'>@window</span><span class='period'>.</span><span class='id identifier rubyid_move_cursor'>move_cursor</span><span class='lparen'>(</span><span class='id identifier rubyid_cursor'>cursor</span><span class='rparen'>)</span>

            <span class='id identifier rubyid_index'>index</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>end</span>

    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filter-instance_method">
  
    #<strong>filter</strong>(pattern)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/terminal-notes/file_list.rb', line 153</span>

<span class='kw'>def</span> <span class='id identifier rubyid_filter'>filter</span> <span class='id identifier rubyid_pattern'>pattern</span>
    <span class='id identifier rubyid_old_file_list'>old_file_list</span> <span class='op'>=</span> <span class='ivar'>@filtered_files</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='ivar'>@filtered_files</span> <span class='op'>=</span> <span class='ivar'>@all_files</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_matcher_type'>matcher_type</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#MATCHERS-constant" title="TerminalNotes::FileList::MATCHERS (constant)">MATCHERS</a></span></span><span class='lbracket'>[</span><span class='ivar'>@curr_matcher</span><span class='rbracket'>]</span>
        <span class='kw'>case</span> <span class='id identifier rubyid_matcher_type'>matcher_type</span>
        <span class='kw'>when</span> <span class='symbol'>:regex</span>
            <span class='ivar'>@filtered_files</span> <span class='op'>=</span> <span class='ivar'>@all_files</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
                <span class='id identifier rubyid_f'>f</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'>pattern</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span>
            <span class='kw'>end</span>
        <span class='kw'>when</span> <span class='symbol'>:fuzzy</span>
            <span class='ivar'>@filtered_files</span> <span class='op'>=</span> <span class='ivar'>@fuzzy_matcher</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span><span class='lparen'>(</span><span class='id identifier rubyid_pattern'>pattern</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown Matcher! &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_matcher_type'>matcher_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='comment'># If the file list has changed, reset current line marker
</span>    <span class='ivar'>@current_line</span> <span class='op'>=</span> <span class='int'>0</span> <span class='kw'>unless</span> <span class='id identifier rubyid_old_file_list'>old_file_list</span> <span class='op'>==</span> <span class='ivar'>@filtered_files</span>

    <span class='id identifier rubyid_draw'>draw</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="focus-instance_method">
  
    #<strong>focus</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>TODO</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/terminal-notes/file_list.rb', line 50</span>

<span class='kw'>def</span> <span class='id identifier rubyid_focus'>focus</span>
    <span class='ivar'>@has_focus</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_draw'>draw</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="notify_file_opened-instance_method">
  
    #<strong>notify_file_opened</strong>(file)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/terminal-notes/file_list.rb', line 187</span>

<span class='kw'>def</span> <span class='id identifier rubyid_notify_file_opened'>notify_file_opened</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
    <span class='ivar'>@on_file_opened_delegates</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_delegate'>delegate</span><span class='op'>|</span>
        <span class='id identifier rubyid_delegate'>delegate</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_file_opened-instance_method">
  
    #<strong>on_file_opened</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


183
184
185</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/terminal-notes/file_list.rb', line 183</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_file_opened'>on_file_opened</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
    <span class='ivar'>@on_file_opened_delegates</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_key-instance_method">
  
    #<strong>on_key</strong>(key)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


137
138
139
140
141
142
143
144
145
146
147
148
149
150
151</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/terminal-notes/file_list.rb', line 137</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_key'>on_key</span> <span class='id identifier rubyid_key'>key</span>
    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@has_focus</span>

    <span class='kw'>case</span> <span class='id identifier rubyid_key'>key</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>j</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_scroll_down'>scroll_down</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>k</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_scroll_up'>scroll_up</span>
    <span class='kw'>when</span> <span class='symbol'>:ENTER</span>
        <span class='id identifier rubyid_open_current'>open_current</span>
    <span class='kw'>else</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_draw'>draw</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="toggle_matcher-instance_method">
  
    #<strong>toggle_matcher</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


178
179
180
181</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/terminal-notes/file_list.rb', line 178</span>

<span class='kw'>def</span> <span class='id identifier rubyid_toggle_matcher'>toggle_matcher</span>
    <span class='ivar'>@curr_matcher</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='ivar'>@curr_matcher</span>  <span class='op'>=</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='ivar'>@curr_matcher</span> <span class='op'>&gt;=</span> <span class='const'><span class='object_link'><a href="#MATCHERS-constant" title="TerminalNotes::FileList::MATCHERS (constant)">MATCHERS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unfocus-instance_method">
  
    #<strong>unfocus</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/terminal-notes/file_list.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unfocus'>unfocus</span>
    <span class='ivar'>@has_focus</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_draw'>draw</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Aug 26 17:28:27 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.25 (ruby-2.5.0).
</div>

    </div>
  </body>
</html>